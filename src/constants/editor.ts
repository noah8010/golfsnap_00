/**
 * @file editor.ts
 * @description 에디터 관련 상수 정의
 *
 * 타임라인 편집기에서 사용되는 모든 상수 값을 정의합니다.
 * 이 값들은 UI 렌더링, 줌/스크롤 계산, 클립 조작에 사용됩니다.
 */

// ============================================================================
// 타임라인 설정 상수
// ============================================================================

/**
 * 타임라인 설정 상수
 *
 * 타임라인 에디터의 핵심 설정값들을 정의합니다.
 * `as const`를 사용하여 읽기 전용으로 타입 안전성을 보장합니다.
 */
export const TIMELINE_CONFIG = {
  /**
   * 최소 줌 레벨 (0.5x)
   * 더 넓은 시간 범위를 한 화면에 표시
   */
  ZOOM_MIN: 0.5,

  /**
   * 최대 줌 레벨 (3x)
   * 더 상세한 프레임 단위 편집 가능
   */
  ZOOM_MAX: 3,

  /**
   * 줌 조절 단계 (0.25)
   * 핀치 줌 또는 줌 버튼 클릭 시 변화량
   */
  ZOOM_STEP: 0.25,

  /**
   * 1초당 픽셀 수 (10px)
   * 줌 레벨 1x 기준, 1초 = 10px로 렌더링
   *
   * 계산 예시:
   * - 줌 1x: 10초 = 100px
   * - 줌 2x: 10초 = 200px
   * - 줌 0.5x: 10초 = 50px
   */
  PIXELS_PER_SECOND: 10,

  /**
   * 클립 최소 길이 (0.1초 = 100ms)
   * 트리밍 시 클립이 이 길이 미만으로 줄어들지 않음
   */
  MIN_CLIP_DURATION: 0.1,

  /**
   * 최소 재생 속도 (0.1x = 10배 슬로우모션)
   * 속도 조절 패널에서 설정 가능한 최솟값
   */
  SPEED_MIN: 0.1,

  /**
   * 최대 재생 속도 (8x = 8배속)
   * 속도 조절 패널에서 설정 가능한 최댓값
   */
  SPEED_MAX: 8,

  /**
   * 플레이헤드 상단 오프셋 (52px)
   * 타임라인 영역 상단에서 플레이헤드 시작 위치
   * 탭 바 높이 등을 고려한 값
   */
  PLAYHEAD_TOP_OFFSET: 52,

  /**
   * 플레이헤드 상단 위치 (50px)
   * 플레이헤드가 화면 상단에서 떨어진 거리
   * 중앙 고정 플레이헤드 방식에서 사용
   */
  PLAYHEAD_TOP_POSITION: 50,
} as const;

// ============================================================================
// 초기 타임라인 클립 데이터 (샘플)
// ============================================================================

/**
 * 초기 타임라인 클립 목록
 *
 * 에디터 테스트용 샘플 클립 3개를 정의합니다.
 * 실제 앱에서는 프로젝트 로드 시 서버/로컬에서 가져옴
 *
 * 클립 배치:
 * - clip-1: 0초 ~ 15초 (15초 길이)
 * - clip-2: 15초 ~ 37초 (22초 길이)
 * - clip-3: 37초 ~ 55초 (18초 길이)
 * - 총 55초
 */
export const INITIAL_TIMELINE_CLIPS = [
  {
    id: 'clip-1',           // 클립 고유 ID
    clipId: 'media-1',      // 연결된 미디어 ID
    position: 0,            // 타임라인 시작 위치 (초)
    duration: 15,           // 클립 길이 (초)
    track: 'video' as const, // 트랙 타입 (타입 단언)
    startTime: 0,           // 원본 영상 시작 시간 (트리밍)
    endTime: 15,            // 원본 영상 종료 시간 (트리밍)
    speed: 1,               // 재생 속도 (1x = 기본)
  },
  {
    id: 'clip-2',
    clipId: 'media-2',
    position: 15,           // clip-1 바로 뒤
    duration: 22,
    track: 'video' as const,
    startTime: 0,
    endTime: 22,
    speed: 1,
  },
  {
    id: 'clip-3',
    clipId: 'media-3',
    position: 37,           // clip-2 바로 뒤 (15 + 22 = 37)
    duration: 18,
    track: 'video' as const,
    startTime: 0,
    endTime: 18,
    speed: 1,
  },
];

// ============================================================================
// 에디터 탭 설정
// ============================================================================

/**
 * 에디터 하단 탭 메뉴 정의
 *
 * 각 탭은 다른 편집 패널을 표시합니다:
 * - edit: 기본 편집 도구 (분할, 삭제, 속도 등)
 * - audio: 오디오/BGM 설정
 * - text: 텍스트 오버레이 추가
 * - filter: 색상 필터 및 조정
 */
export const EDITOR_TABS = [
  { id: 'edit' as const, label: '편집' },
  { id: 'audio' as const, label: '오디오' },
  { id: 'text' as const, label: '텍스트' },
  { id: 'filter' as const, label: '필터' },
] as const;

/**
 * 에디터 탭 ID 타입
 * EDITOR_TABS 배열에서 추출된 유니온 타입
 */
export type EditorTabId = typeof EDITOR_TABS[number]['id'];
