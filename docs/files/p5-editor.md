# P5. 영상 에디터

> **파일**: `p5-editor.md`
> **최종 수정**: v1.2 (2026-02-11)

> [스크린샷: 에디터 전체 화면]

---

<!-- SECTION: P5-META -->
## 개요

| 항목 | 내용 |
|------|------|
| 목적 | 타임라인 기반 영상 편집 (핵심 기능) |
| 진입 경로 | P4 완료 후 자동 이동 또는 대시보드에서 프로젝트 클릭 |
| 하단 네비게이션 | 숨김 (전용 편집 툴바 사용) |

### 진입 파라미터

| 파라미터 | 타입 | 설명 |
|---------|------|------|
| `projectId` | `string` | 프로젝트 UUID |

### 진입 시 데이터 로드

| 진입 경로 | 데이터 처리 |
|----------|-----------|
| P4(AI 처리)에서 자동 이동 | P4의 API 응답(프로젝트 전체 데이터)을 클라이언트 상태에 이미 보유 → 추가 API 호출 불요 |
| 대시보드에서 기존 프로젝트 클릭 | `GET /api/projects/{id}` 호출 → 타임라인 포함 전체 데이터 로드 |

```
GET /api/projects/{id}

Response 200:
{
  "id": "project-uuid",
  "name": "내 프로젝트",
  "aspectRatio": "9:16",
  "duration": 45.5,
  "thumbnail": "https://cdn.../thumb.jpg",
  "clips": [...],          // VideoClip 배열
  "timeline": [...],       // TimelineItem 배열 (5개 트랙 전체)
  "createdAt": "...",
  "updatedAt": "..."
}
```

로드 실패 시: "프로젝트를 불러올 수 없습니다" (error 토스트) → 대시보드(P1)로 복귀

---

<!-- SECTION: P5-LAYOUT -->
## 화면 영역

```
┌────────────────────────────────────┐
│ A. 상단 바                         │
│  ← 프로젝트명  저장상태 ↶ ↷ [만들기]│
├────────────────────────────────────┤
│                                    │
│ B. 미리보기 영역                    │  높이 약 45%
│  (비율에 맞는 영상 + 오버레이)       │
│                                    │
├────────────────────────────────────┤
│ C. 타임라인 컨트롤                  │
│  타임라인  ✨AI  [-] 1x [+]        │
├────────────────────────────────────┤
│ D. 타임라인 (5개 트랙)              │  나머지 높이
│  ┌─────────────────────────────┐  │
│  │영상  [클립1][클립2]◇[클립3] │  │
│  │텍스트 [텍스트A]              │  │
│  │오디오 [BGM~~~~~~~]          │  │
│  │필터            [필터X]       │  │
│  │스티커 [🏌️]                   │  │
│  └──────────│──────────────────┘  │
│             │← 플레이헤드           │
├────────────────────────────────────┤
│ E. 하단 편집 툴바                   │
│  [다중선택][분할][속도][복제][삭제]   │
└────────────────────────────────────┘
```

---

<!-- SECTION: P5-A -->
## A. 상단 바

> [스크린샷: 에디터 상단 바]

| 요소 | 동작 | 조건 |
|------|------|------|
| ← 뒤로가기 | 프로젝트를 서버에 저장 → 대시보드(P1) 복귀 | 항상 |
| 프로젝트명 | 탭 → 인라인 편집 모드 | 항상 |
| 저장 상태 | 자동 표시 (저장됨/저장 중/미저장) | 항상 |
| ↶ Undo 버튼 | 마지막 작업 되돌리기 | `canUndo = true`일 때 활성 |
| ↷ Redo 버튼 | 되돌린 작업 재실행 | `canRedo = true`일 때 활성 |
| [만들기] 버튼 | 내보내기(P6) 모달 열기 | 항상 활성 |

---

<!-- SECTION: P5-A-NAME -->
### 프로젝트명 인라인 편집

| 항목 | 규칙 |
|------|------|
| 편집 진입 | 프로젝트명 영역 탭 → `<input>` 으로 변환, autofocus |
| 편집 완료 | Enter 키 또는 포커스 해제(blur) |
| 유효성 | 빈 문자열 불가 (앞뒤 공백 trim 적용) |
| 최대 길이 | 50자 |
| 저장 | 편집 완료 즉시 서버에 저장 |

```
PATCH /api/projects/{id}

Request: { "name": "새 프로젝트명" }
Response 200: { "id": "uuid", "updatedAt": "..." }
```

저장 실패 시: 이전 이름으로 복원 + "이름 변경에 실패했습니다" (error 토스트)

---

<!-- SECTION: P5-A-SAVE -->
### 자동 저장

| 상태 | 아이콘 | 텍스트 | 트리거 |
|------|--------|--------|--------|
| 저장됨 | ✓ 체크 | "저장됨" | 저장 완료 시 |
| 저장 중 | 스피너 | "저장 중..." | API 호출 중 |
| 미저장 | ○ 원 | "저장되지 않음" | 타임라인 변경 직후 |

#### 자동 저장 플로우

```
[타임라인 변경 발생] → 상태: "미저장"
    │
 2초 디바운스 대기 (추가 변경 시 타이머 리셋)
    │
 상태: "저장 중..." → PATCH /api/projects/{id} 호출
    │
 ┌──┴──┐
성공    실패
 │      │
"저장됨" 5초 후 재시도 (최대 3회)
        │
     ┌──┴──┐
    성공   3회 모두 실패
     │      │
  "저장됨"  "자동 저장에 실패했습니다" (error 토스트)
            + 수동 저장 버튼 표시
```

#### 저장 API

```
PATCH /api/projects/{id}

Request:
{
  "timeline": [...],     // 전체 타임라인 배열 (5개 트랙 모든 클립)
  "duration": 52.3       // 총 길이 재계산값
}

Response 200:
{ "id": "uuid", "updatedAt": "..." }
```

---

<!-- SECTION: P5-A-EXIT -->
### 에디터 이탈 플로우

```
[← 뒤로가기 탭]
    │
 미저장 변경사항 있음?
    │
 ┌──┴──┐
예      아니오
 │       │
확인 다이얼로그    즉시 대시보드(P1) 이동
"저장되지 않은 변경사항이
있습니다. 나가시겠습니까?"
 │
 ┌────┴────┐
"저장 후    "저장하지 않고
 나가기"     나가기"
 │            │
저장 API 호출  대시보드(P1) 이동
 → 성공 → P1
 → 실패 → "저장 실패" 토스트, 에디터 유지
```

---

<!-- SECTION: P5-A-UNDO -->
### Undo/Redo

| 항목 | 규칙 |
|------|------|
| 최대 히스토리 | 30단계 |
| 키보드 단축키 | `Ctrl+Z` (Undo), `Ctrl+Y` 또는 `Ctrl+Shift+Z` (Redo) |
| 기록 대상 | 타임라인 상태 변경 전체 (클립 추가/삭제/이동/수정/분할/트림) |
| 새 작업 시 | Redo 스택 초기화 |
| 비활성 시 | 버튼 비활성 표시 |

---

<!-- SECTION: P5-B -->
## B. 미리보기 영역

> [스크린샷: 미리보기 - 필터 적용 상태]
> [스크린샷: 미리보기 - 텍스트/스티커 오버레이]

| 기능 | 상세 |
|------|------|
| 비율 자동 조정 | 프로젝트 비율(`16:9` / `9:16` / `1:1`)에 맞는 `aspect-ratio` 적용 |
| 비율 뱃지 | 우측 상단에 현재 비율 텍스트 표시 |
| 영상 재생 | HTML5 `<video>` 태그 사용 (원본 파일 직접 재생) |
| 재생 컨트롤 | 탭 시 Play/Pause 토글 |
| 시간 표시 | "현재시간 / 총시간" (MM:SS 형식) |
| 전체화면 | Fullscreen API (`element.requestFullscreen()`) |

### 영상 재생 규칙

| 항목 | 규칙 |
|------|------|
| 현재 시간 연동 | 플레이헤드 위치 = 영상 재생 위치 |
| 재생 시 스크롤 | 재생 중에는 타임라인이 자동 스크롤 (플레이헤드 중앙 고정 유지) |
| 클립 전환 | 영상 트랙의 다음 클립으로 자동 전환 |
| 끝 도달 | 마지막 클립 끝 도달 시 재생 정지 |
| 속도 반영 | 클립별 `speed` 값에 따라 재생 속도 변경 |
| 볼륨 반영 | 클립별 `volume` 값 + `audioMuted` 상태 반영 |

---

<!-- SECTION: P5-B-FILTER -->
### 필터 실시간 미리보기

현재 플레이헤드 시간에 활성화된 필터 클립이 있으면, 미리보기 영상에 CSS `filter`를 적용합니다.

| 필터 프리셋 | CSS filter 값 |
|------------|--------------|
| vivid | `brightness(1.1) contrast(1.2) saturate(1.4)` |
| soft | `brightness(1.05) contrast(0.9) saturate(0.85)` |
| cool | `hue-rotate(-15deg) saturate(1.1) brightness(0.95)` |
| warm | `sepia(0.15) saturate(1.3) brightness(1.05)` |
| pro | `contrast(1.15) saturate(1.1)` |
| 커스텀 | `brightness({1+b/100}) contrast({1+c/100}) saturate({1+s/100}) hue-rotate({t*0.5}deg)` |

- 커스텀 슬라이더 값이 0이 아니면 커스텀 우선 적용
- 활성 필터 존재 시 미리보기 좌측 상단에 필터명 뱃지 표시
- 전환: `transition: filter 300ms`

---

<!-- SECTION: P5-B-OVERLAY -->
### 텍스트/스티커 오버레이

현재 시간에 활성화된 텍스트/스티커 클립을 미리보기 위에 렌더링합니다.

| 속성 | 상세 |
|------|------|
| 표시 조건 | `currentTime >= clip.position && currentTime < clip.position + clip.duration` |
| 위치 | 클립의 `textPosition` / `stickerPosition` ({x: 0~100, y: 0~100} 퍼센트 좌표) |
| 드래그 | 미리보기 영역 내에서 드래그하여 위치 변경 가능 → 위치 값 즉시 업데이트 |
| 선택 표시 | 선택된 클립은 테두리 표시 |
| 텍스트 스타일 | 해당 클립의 폰트, 크기, 색상, 정렬, 굵기, 기울임, 밑줄 반영 |
| 텍스트 애니메이션 | 클립 시작 시점에 설정된 애니메이션 재생 |
| 스티커 크기 | `stickerScale` 값 반영 |
| 스티커 애니메이션 | 설정된 애니메이션 루프 재생 |

---

<!-- SECTION: P5-C -->
## C. 타임라인 컨트롤

| 요소 | 상세 |
|------|------|
| "타임라인" 라벨 | 고정 텍스트 |
| AI 버튼 ✨ | `shotData` 보유 클립 1개 이상 → 활성, 없으면 비활성 |
| 줌 (-) 버튼 | `zoom = max(0.5, zoom - 0.25)` |
| 줌 레벨 표시 | "Nx" 형식 (예: "1x") |
| 줌 (+) 버튼 | `zoom = min(3.0, zoom + 0.25)` |
| 핀치 줌 | 두 손가락 핀치로도 줌 조절 가능 (0.5x ~ 3.0x) |

---

<!-- SECTION: P5-D -->
## D. 타임라인

> [스크린샷: 타임라인 - 5개 트랙]

### 전체 구조

```
              ← 가로 스크롤 가능 →
┌──────┬──────────────────────────────────┐
│      │  0s    5s    10s   15s   20s     │ 타임 눈금자
├──────┼──────────────────────────────────┤
│ 영상  │ [클립1   ][클립2   ]◇[클립3   ] │ 파란색
├──────┼──────────────────────────────────┤
│텍스트 │ [텍스트A     ]                   │ 주황색
├──────┼──────────────────────────────────┤
│오디오 │ [BGM~~~~~~~~~~~~~~~~~]          │ 초록색
├──────┼──────────────────────────────────┤
│ 필터  │          [필터X        ]         │ 보라색
├──────┼──────────────────────────────────┤
│스티커 │ [🏌️]                             │ 핑크색
└──────┴──────────│───────────────────────┘
                  │
            중앙 고정 플레이헤드 (빨간 세로선)
```

- 레이블 영역: 좌측 고정 (sticky)
- 클립 영역: 가로 스크롤 가능
- 플레이헤드: 화면 정중앙에 고정

---

<!-- SECTION: P5-D-TRACKS -->
### 5개 트랙

| 트랙 | 식별색 | 레이블 탭 동작 | 빈 트랙 표시 |
|------|--------|-------------|------------|
| 영상 (video) | 파란색 | 없음 | "영상 없음" |
| 텍스트 (text) | 주황색 | **텍스트 패널** 열기 | "+ 텍스트 추가" (탭 가능) |
| 오디오 (audio) | 초록색 | **오디오 패널** 열기 | "+ 오디오 추가" (탭 가능) |
| 필터 (filter) | 보라색 | **필터 패널** 열기 | "+ 필터 추가" (탭 가능) |
| 스티커 (sticker) | 핑크색 | **스티커 패널** 열기 | "+ 스티커 추가" (탭 가능) |

- 영상 트랙의 클립은 프로젝트 생성(P4) 시 자동으로 배치됨. 에디터에서 직접 영상 클립을 추가하는 기능은 없음
- 텍스트/오디오/필터/스티커는 트랙 레이블 탭 또는 빈 트랙의 "+ 추가" 텍스트 탭으로 추가

---

<!-- SECTION: P5-D-PLAYHEAD -->
### 중앙 고정 플레이헤드

| 항목 | 규칙 |
|------|------|
| 위치 | 화면 **정중앙에 고정** (빨간색 세로선 + 상단 원형 핸들) |
| 시간 계산 | `currentTime = (scrollLeft + containerWidth/2 - leftPadding - labelWidth) / (pixelsPerSecond * zoom)` |
| 스크롤 | 타임라인을 좌우로 스크롤하면 플레이헤드 아래의 시간이 변경됨 |
| 재생 연동 | 재생 중에는 타임라인이 자동 스크롤 |

---

<!-- SECTION: P5-D-RULER -->
### 타임 눈금자

- 트랙 상단에 고정 (sticky top)
- 5초 간격으로 눈금선 + "Ns" 라벨 표시
- 줌 레벨에 따라 간격 자동 조정

---

<!-- SECTION: P5-D-CLIP-DISPLAY -->
### 클립 표시 규칙

| 속성 | 계산 |
|------|------|
| 수평 위치 (px) | `clip.position * pixelsPerSecond * zoom + leftPadding` |
| 너비 (px) | `clip.duration * pixelsPerSecond * zoom` |
| 배경색 | 트랙별 식별색 |
| 최소 너비 | 20px (너무 짧은 클립도 탭 가능하도록) |
| 선택 상태 | 트랙 식별색 테두리(ring) 표시 |
| 오버랩 | 같은 트랙에서 시간 범위 겹침 시 점선 테두리 + 50% 투명 |

### 미디어 없음 상태

원본 미디어가 삭제된 클립:
- 회색 배경 처리 + "원본 파일이 삭제되었습니다" 텍스트
- 편집/재생 불가, 삭제만 가능

---

<!-- SECTION: P5-D-ADD -->
## 트랙별 클립 추가 방법

### 영상 클립

- **추가 방법**: 에디터에서 직접 추가 불가. 프로젝트 생성(P4) 시 미디어 순서대로 자동 배치됨
- **이후 조작**: 분할, 속도 변경, 볼륨 조정, 순서 교환, 트림, 복제, 삭제 가능

### 텍스트 클립

- **추가 방법**: 텍스트 트랙 레이블 탭 또는 빈 트랙의 "+ 텍스트 추가" 탭
- **전제 조건**: 영상 트랙에 클립이 1개 이상 있어야 함 (없으면 "먼저 비디오 클립을 추가해주세요" info 토스트)
- **열리는 패널**: 텍스트 패널 (전체화면 오버레이)
- **배치 위치**: 플레이헤드 현재 시간
- **기본 길이**: 5초 (영상 범위 초과 시 자동 조정)

### 오디오 클립

- **추가 방법**: 오디오 트랙 레이블 탭 또는 빈 트랙의 "+ 오디오 추가" 탭
- **전제 조건**: 영상 트랙에 클립이 1개 이상 있어야 함
- **열리는 패널**: 오디오 패널 (전체화면 오버레이)
- **배치 위치**: 플레이헤드 현재 시간
- **기본 길이**: BGM 선택 시 30초, 미선택 시 5초 (영상 범위 초과 시 자동 조정)

### 필터 클립

- **추가 방법**: 필터 트랙 레이블 탭 또는 빈 트랙의 "+ 필터 추가" 탭
- **전제 조건**: 영상 트랙에 클립이 1개 이상 있어야 함
- **열리는 패널**: 필터 패널 (전체화면 오버레이)
- **배치 위치**: 플레이헤드 현재 시간
- **기본 길이**: 5초

### 스티커 클립

- **추가 방법**: 스티커 트랙 레이블 탭 또는 빈 트랙의 "+ 스티커 추가" 탭
- **전제 조건**: 영상 트랙에 클립이 1개 이상 있어야 함
- **열리는 패널**: 스티커 패널 (전체화면 오버레이)
- **배치 위치**: 플레이헤드 현재 시간
- **기본 길이**: 3초 (영상 범위 초과 시 자동 조정)

---

<!-- SECTION: P5-D-CLIP-MATRIX -->
## 클립 조작 매트릭스

### 트랙별 가능한 조작

| 조작 | 영상 | 텍스트 | 오디오 | 필터 | 스티커 |
|------|------|--------|--------|------|--------|
| 탭 → 선택 | O | O | O | O | O |
| 더블탭 → 편집 패널 | X | O (텍스트 패널) | O (오디오 패널) | O (필터 패널) | O (스티커 패널) |
| 롱프레스 → 드래그 | O (순서 교환) | O (자유 위치) | O (자유 위치) | O (자유 위치) | O (자유 위치) |
| 좌우 트림 | O | O | O | O | O |
| 분할 | O | X | O | O | X |
| 속도 변경 | O (0.1x~8x) | X | X | X | X |
| 원본 볼륨 | O (0~100%) | X | X | X | X |
| 수정 (편집 패널) | X | O | O | O | O |
| 복제 | O | O | O | O | O |
| 삭제 | O | O | O | O | O |
| 전환 효과 | O (인접 클립 간) | X | X | X | X |

---

<!-- SECTION: P5-D-SELECT -->
### 클립 선택

#### 단일 선택

| 항목 | 동작 |
|------|------|
| 탭 | 클립 탭 → 선택 상태 (트랙 식별색 테두리 표시) |
| 하단 툴바 변경 | 선택된 트랙 종류에 따라 버튼 구성 변경 (아래 툴바 섹션 참조) |
| 선택 해제 | 빈 영역 탭 또는 다른 클립 탭 시 기존 선택 해제 |

#### 다중 선택

| 항목 | 동작 |
|------|------|
| 진입 | 클립 1개 선택 상태에서 툴바의 "다중선택" 버튼 탭 |
| 클립 탭 | 선택/해제 토글 (체크박스 UI 표시) |
| 툴바 표시 | [선택 해제] [N개 선택됨] [일괄 삭제] |
| 해제 | "선택 해제" 탭 또는 선택 클립이 0개가 될 때 |

---

<!-- SECTION: P5-D-DRAG -->
### 클립 이동 (드래그)

```
[클립 위에서 500ms 이상 롱프레스]
    │
 롱프레스 진행 표시 (애니메이션 채워짐)
    │
 드래그 모드 활성화 (클립이 살짝 올라오는 효과)
    │
 손가락/마우스 이동 → 클립 위치 실시간 업데이트
    │
 다른 클립의 시작/끝 지점에 0.3초 이내 접근 시:
 → 스냅 (녹색 가이드라인 표시 + 햅틱 피드백)
    │
 손 떼기 → 새 위치에 배치
```

| 항목 | 규칙 |
|------|------|
| 롱프레스 시간 | 500ms |
| 스냅 임계값 | 0.3초 |
| 스냅 피드백 | 녹색 가이드라인 + `navigator.vibrate(10)` |
| 이동 취소 | 롱프레스 중 15px 이상 이동하면 롱프레스 취소 |

**영상 트랙 이동 특수 규칙:**
- 영상 클립은 자유 이동이 아닌 **순서 교환** 방식
- 드래그한 클립이 다른 클립의 중간을 넘으면 순서 교환
- 교환 후 리플 편집으로 position 재계산

**비영상 트랙 이동 규칙:**
- 자유 위치 이동 가능
- 단, 영상 트랙 총 길이 범위를 초과할 수 없음
- `0 ≤ position ≤ (영상 총 길이 - 클립 duration)`

---

<!-- SECTION: P5-D-TRIM -->
### 클립 트림

클립 선택 시 양쪽 끝에 드래그 가능한 트림 핸들이 표시됩니다.

| 트랙 | 좌측 핸들 | 우측 핸들 | 제약 |
|------|----------|----------|------|
| 영상 | `startTime` 조정 (position + duration 연동) | `endTime` 조정 | 원본 미디어의 시작~끝 범위 내 |
| 텍스트/오디오/필터/스티커 | position + duration 동시 조정 | duration만 조정 | 영상 트랙 총 길이 초과 불가 |

| 공통 규칙 | 상세 |
|----------|------|
| 최소 클립 길이 | 0.1초 |
| 영상 트랙 리플 편집 | 트림 시 후속 클립 자동 이동 |
| 비영상 트랙 | 리플 편집 미적용 (자유 배치) |

---

<!-- SECTION: P5-D-SPLIT -->
### 클립 분할

```
[분할 버튼 탭]
    │
 ① 분할 가능한 트랙? (영상/오디오/필터만 가능)
    ├─ 아니오 → "이 클립은 분할할 수 없습니다" (warning 토스트)
    │
 ② 플레이헤드가 해당 클립 위에 위치?
    ├─ 아니오 → "중앙 플레이헤드가 클립 위에 있지 않습니다" (warning 토스트)
    │
 ③ 분할 결과 양쪽 클립 모두 최소 0.1초 이상?
    ├─ 아니오 → "분할할 수 없습니다. 최소 길이를 확인하세요" (warning 토스트)
    │
 ④ 분할 실행:
    앞 클립: position 유지, endTime = 분할 지점
    뒤 클립: position = 분할 지점, startTime = 분할 지점
    원본 startTime/endTime 구간 보존
```

---

<!-- SECTION: P5-D-RIPPLE -->
### 리플 편집

```
변경 전: [A: 0~5s] [B: 5~10s] [C: 10~15s]

A의 길이를 7초로 확장:
변경 후: [A: 0~7s  ] [B: 7~12s] [C: 12~17s]
                      ↑ 후속 클립이 자동으로 밀림
```

| 트랙 | 리플 편집 | 비고 |
|------|----------|------|
| 영상 | 항상 적용 | 클립 간 빈틈 없음 |
| 텍스트/오디오/필터/스티커 | 미적용 | 자유 배치, 단 영상 트랙 범위 초과 불가 |

**영상 클립 삭제 시 비영상 트랙 제약:**
- 영상 총 길이가 줄어들면, 비영상 클립이 영상 범위를 초과하는 경우 자동으로 위치 조정
- `position = min(position, 새 영상 총 길이 - duration)`

---

<!-- SECTION: P5-D-DUPLICATE -->
### 클립 복제

| 항목 | 규칙 |
|------|------|
| 복제 위치 | 원본 클립 바로 뒤 (`position = 원본 position + 원본 duration`) |
| 새 ID | 새 UUID 발급, 나머지 속성 동일 |
| 영상 트랙 | 리플 편집으로 후속 클립 밀림 |
| 비영상 트랙 | 그대로 배치 (영상 범위 초과 시 자동 조정) |

---

<!-- SECTION: P5-D-DELETE -->
### 클립 삭제

| 항목 | 규칙 |
|------|------|
| 확인 다이얼로그 | "클립을 삭제하시겠습니까?" (단일) / "N개의 클립을 삭제하시겠습니까?" (다중) |
| 삭제 후 | 영상 트랙: 리플 편집으로 후속 클립 이동. 비영상 트랙: 그대로 |
| Undo | 삭제 후 Undo로 복원 가능 |

---

<!-- SECTION: P5-D-TRANSITION -->
### 전환 효과 (영상 트랙 전용)

> [스크린샷: 전환 효과 아이콘]

인접한 영상 클립 사이(간격 0.5초 이내)에 전환 아이콘(◇)을 표시합니다.

| 전환 타입 | 설명 | 렌더링 시 효과 |
|----------|------|-------------|
| none | 전환 없음 (기본값) | 하드컷 |
| fade | 페이드 전환 | 크로스 디졸브 |
| slide | 슬라이드 전환 | 좌→우 슬라이드 |
| zoom | 줌 전환 | 줌인/줌아웃 |

**전환 선택 패널** (하단 시트):

```
┌─ 전환 효과 ─────────────────────────┐
│ [없음]    [페이드]  [슬라이드]  [줌]  │
│  바로전환   디졸브    좌→우     확대  │
└──────────────────────────────────────┘
```

- 전환 아이콘(◇) 탭 시 하단에서 슬라이드업
- 선택 즉시 적용 + 패널 자동 닫힘

---

<!-- SECTION: P5-E -->
## E. 하단 편집 툴바

> [스크린샷: 편집 툴바 - 클립 선택 상태]
> [스크린샷: 편집 툴바 - 다중 선택 모드]

### 트랙별 툴바 버튼 구성

클립 선택 시, 선택된 클립의 트랙 종류에 따라 버튼이 다르게 표시됩니다.

**영상 클립 선택 시:**
```
[다중선택] [분할] [속도] [볼륨] [복제] [삭제]
```

**텍스트 클립 선택 시:**
```
[다중선택] [수정] [복제] [삭제]
```

**오디오 클립 선택 시:**
```
[다중선택] [분할] [수정] [복제] [삭제]
```

**필터 클립 선택 시:**
```
[다중선택] [분할] [수정] [복제] [삭제]
```

**스티커 클립 선택 시:**
```
[다중선택] [수정] [복제] [삭제]
```

**클립 미선택 시:**
```
모든 버튼 비활성 (탭 불가)
```

**다중 선택 모드:**
```
[선택 해제]  [N개 선택됨]  [일괄 삭제]
```

### 버튼별 동작 요약

| 버튼 | 동작 | 대상 트랙 |
|------|------|----------|
| 다중선택 | 다중 선택 모드 진입 | 전체 |
| 분할 | 플레이헤드 위치에서 분할 | 영상, 오디오, 필터 |
| 속도 | **속도 패널** 열기 | 영상만 |
| 볼륨 | **볼륨 패널** 열기 | 영상만 |
| 수정 | 해당 **편집 패널** 열기 (기존 값 로드) | 텍스트, 오디오, 필터, 스티커 |
| 복제 | 선택 클립 바로 뒤에 복사본 배치 | 전체 |
| 삭제 | 확인 다이얼로그 → 삭제 | 전체 |

---

<!-- SECTION: P5-PANEL -->
## 편집 패널 공통 규칙

모든 편집 패널은 **전체화면 오버레이**로 화면 하단에서 슬라이드업 등장합니다.

| 항목 | 규칙 |
|------|------|
| 등장 | 하단에서 슬라이드 업 (300ms) |
| 닫기 방법 | 상단 ✕ 버튼 (수정사항 취소) |
| 적용/추가 | 하단 [적용] 또는 [추가] 버튼 (수정사항 반영 + 패널 닫기) |
| 취소 시 | 수정 전 상태로 복원 + 패널 닫기 |
| 새 추가 vs 수정 | 트랙 레이블 탭 = 새 클립 추가 모드, 클립 더블탭/수정 버튼 = 기존 클립 편집 모드 |

---

<!-- SECTION: P5-PANEL-TEXT -->
## 편집 패널: 텍스트

> [스크린샷: 텍스트 패널]

### 패널 레이아웃

```
┌─ 텍스트 추가 ──────────────────── ✕ ┐
│                                      │
│ ┌──────────────────────────────────┐ │
│ │ 텍스트를 입력하세요               │ │  텍스트 입력 (textarea)
│ └──────────────────────────────────┘ │
│                                      │
│ [스타일]  [애니메이션]               │  탭 전환
│                                      │
│ ◀ 스타일 탭 선택 시 ▶               │
│                                      │
│ 폰트                                │
│ [Noto Sans][나눔고딕 ][나눔명조 ]   │  3열 그리드
│ [Roboto  ][Montserrat][Playfair]    │
│                                      │
│ 크기: 32px                          │
│ [────────────●────────] 16~72       │
│                                      │
│ 색상                                │
│ [●][●][●][●][●][●][●][●][●][●]    │  10색 프리셋
│                                      │
│ 정렬: [좌] [중앙] [우]              │
│ 스타일: [B] [I] [U]                 │
│                                      │
│ ◀ 애니메이션 탭 선택 시 ▶            │
│                                      │
│ [없음 ][페이드인][페이드아웃]        │  11종 그리드
│ [↑위로][↓아래로][←왼쪽 ][→오른쪽]   │
│ [확대 ][바운스 ][타자기 ][글로우 ]   │
│                                      │
│          [추가] / [적용]             │
└──────────────────────────────────────┘
```

### 설정 항목

| 설정 | 옵션 | 기본값 | 유효성 |
|------|------|--------|--------|
| 텍스트 내용 | 자유 입력 | "텍스트 입력" | 빈 문자열 불가, 최대 200자 |
| 폰트 | Noto Sans KR, 나눔고딕, 나눔명조, Roboto, Montserrat, Playfair | Noto Sans KR | - |
| 크기 | 슬라이더 16~72 (step: 2) | 32 | 정수만 |
| 색상 | 10색 프리셋: #FFFFFF, #000000, #FF0000, #00FF00, #0000FF, #FFFF00, #FF00FF, #00FFFF, #FFA500, #800080 | #FFFFFF | - |
| 정렬 | 좌/중앙/우 | 중앙 | - |
| 스타일 | 굵게(B), 기울임(I), 밑줄(U) 토글 | 모두 OFF | 복합 선택 가능 |
| 애니메이션 | 11종 (아래 표) | fade-in | - |
| 위치 | 미리보기에서 드래그 | 중앙 (x:50, y:50) | 0~100% |

### 텍스트 애니메이션 종류

| ID | 이름 | 효과 |
|----|------|------|
| none | 없음 | 정적 표시 |
| fade-in | 페이드 인 | 투명→불투명 |
| fade-out | 페이드 아웃 | 불투명→투명 |
| slide-up | 슬라이드 업 | 아래→위 이동 |
| slide-down | 슬라이드 다운 | 위→아래 이동 |
| slide-left | 슬라이드 좌 | 우→좌 이동 |
| slide-right | 슬라이드 우 | 좌→우 이동 |
| zoom-in | 줌 인 | 작은→큰 크기 |
| bounce | 바운스 | 탄성 효과 |
| typewriter | 타자기 | 한 글자씩 등장 |
| glow | 글로우 | 발광 효과 |

### 생성되는 타임라인 데이터

```
{
  id: "text-{timestamp}",
  clipId: "text-clip-{timestamp}",
  track: "text",
  position: (플레이헤드 현재 시간),
  duration: 5,
  startTime: 0,
  endTime: 5,
  textContent: "입력한 텍스트",
  textFont: "noto-sans",
  textFontSize: 32,
  textColor: "#FFFFFF",
  textAlign: "center",
  textBold: false,
  textItalic: false,
  textUnderline: false,
  textAnimation: "fade-in",
  textPosition: { x: 50, y: 50 }
}
```

---

<!-- SECTION: P5-PANEL-AUDIO -->
## 편집 패널: 오디오

> [스크린샷: 오디오 패널]

### 패널 레이아웃

```
┌─ 오디오 ───────────────────────── ✕ ┐
│                                      │
│ 원본 오디오                          │
│ ┌──────────────────────────────────┐ │
│ │ 🔊 볼륨                   75%   │ │
│ │                        [켜짐] btn│ │
│ │ [═══════════●═══]  0~100 슬라이더│ │
│ └──────────────────────────────────┘ │
│                                      │
│ 배경음악 라이브러리                    │
│ ┌──────────────────────────────────┐ │
│ │ 🎵 경쾌한 골프   [활기찬] ▶ 3:00│ │
│ │ 🎵 여유로운 라운딩 [여유로운] ▶ 4:00│ │
│ │ 🎵 승리의 순간   [감동적인] ▶ 2:30│ │
│ │ 🎵 완벽한 샷     [서정적인] ▶ 3:20│ │
│ │ 🎵 골프 마스터   [활기찬] ▶ 3:10│ │
│ │ 🎵 그린 위의 평화 [여유로운] ▶ 3:40│ │
│ └──────────────────────────────────┘ │
│                                      │
│ BGM 볼륨 (BGM 선택 시만 표시)        │
│ [═══════════●═══]  0~100            │
│                                      │
│          [취소]  [적용]              │
└──────────────────────────────────────┘
```

### 설정 항목

| 설정 | 옵션 | 기본값 |
|------|------|--------|
| 원본 오디오 볼륨 | 0~100 슬라이더 | 75 |
| 원본 음소거 | 켜짐/꺼짐 토글 | 켜짐 |
| BGM 선택 | 라이브러리에서 선택 (단일 선택) | 없음 |
| BGM 볼륨 | 0~100 슬라이더 (BGM 선택 시만 표시) | 80 |

### BGM 라이브러리

| 곡명 | 장르 | 길이 |
|------|------|------|
| 경쾌한 골프 | 활기찬 | 3:00 |
| 여유로운 라운딩 | 여유로운 | 4:00 |
| 승리의 순간 | 감동적인 | 2:30 |
| 완벽한 샷 | 서정적인 | 3:20 |
| 골프 마스터 | 활기찬 | 3:10 |
| 그린 위의 평화 | 여유로운 | 3:40 |

- 각 BGM 항목에 미리듣기(▶) 버튼
- 선택된 BGM: 트랙 식별색 테두리 표시

### 생성되는 타임라인 데이터

```
{
  id: "audio-{timestamp}",
  clipId: "audio-clip-{timestamp}",
  track: "audio",
  position: (플레이헤드 현재 시간),
  duration: 30,              // BGM 선택 시 30초, 미선택 시 5초
  startTime: 0,
  endTime: 30,
  audioVolume: 75,
  audioMuted: false,
  audioBgm: {                // BGM 선택 시
    id: "bgm-id",
    name: "경쾌한 골프",
    volume: 80
  }
}
```

- 오디오 트랙에 파형(waveform) 시각화 표시

---

<!-- SECTION: P5-PANEL-FILTER -->
## 편집 패널: 필터

> [스크린샷: 필터 패널 - 프리셋 선택]
> [스크린샷: 필터 패널 - 커스텀 슬라이더]

### 패널 레이아웃

```
┌─ 필터 ─────────────────────────── ✕ ┐
│                                      │
│ 프리셋 (3x2 그리드, 미리보기 포함)    │
│ ┌────────┐ ┌────────┐ ┌────────┐   │
│ │ [미리보기]│ │ [미리보기]│ │ [미리보기]│   │
│ │  없음    │ │  선명    │ │ 부드러움 │   │
│ └────────┘ └────────┘ └────────┘   │
│ ┌────────┐ ┌────────┐ ┌────────┐   │
│ │ [미리보기]│ │ [미리보기]│ │ [미리보기]│   │
│ │  쿨톤    │ │  웜톤    │ │  프로    │   │
│ └────────┘ └────────┘ └────────┘   │
│                                      │
│ 세부 조정                            │
│ ☀ 밝기          +10                 │
│ [──────────●──────] -50 ~ +50       │
│ ◐ 대비          +20                 │
│ [──────────●──────] -50 ~ +50       │
│ 💧 채도          +30                 │
│ [──────────●──────] -50 ~ +50       │
│ 🌡 색온도          0                  │
│ [──────────●──────] -100 ~ +100     │
│  차가움                  따뜻함       │
│                                      │
│       [초기화]        [적용]         │
└──────────────────────────────────────┘
```

### 프리셋 필터 값

| 프리셋 | 밝기 | 대비 | 채도 | 색온도 |
|--------|------|------|------|--------|
| 없음 (None) | 0 | 0 | 0 | 0 |
| 선명 (Vivid) | +10 | +20 | +30 | 0 |
| 부드러움 (Soft) | +5 | -10 | -15 | +5 |
| 쿨톤 (Cool) | 0 | +10 | +10 | -20 |
| 웜톤 (Warm) | +5 | +5 | +15 | +25 |
| 프로 (Pro) | +8 | +15 | +20 | +10 |

### 설정 항목

| 설정 | 범위 | 기본값 | 비고 |
|------|------|--------|------|
| 프리셋 | 6종 중 택1 | 없음 | - |
| 밝기 (Brightness) | -50 ~ +50 | 0 | - |
| 대비 (Contrast) | -50 ~ +50 | 0 | - |
| 채도 (Saturation) | -50 ~ +50 | 0 | - |
| 색온도 (Temperature) | -100 ~ +100 | 0 | 음수=차가움, 양수=따뜻함 |

| 동작 규칙 | 상세 |
|----------|------|
| 프리셋 선택 시 | 해당 프리셋의 값으로 4개 슬라이더 자동 설정 |
| 슬라이더 수동 조정 시 | 프리셋 선택은 유지되지만 커스텀 값이 우선 적용 |
| 초기화 | 모든 슬라이더 0으로 리셋, 프리셋 "없음" 선택 |
| 실시간 미리보기 | 슬라이더 변경 즉시 미리보기 영역에 CSS filter 반영 |

### 생성되는 타임라인 데이터

```
{
  id: "filter-{timestamp}",
  clipId: "filter-clip-{timestamp}",
  track: "filter",
  position: (플레이헤드 현재 시간),
  duration: 5,
  startTime: 0,
  endTime: 5,
  filterPreset: "vivid",
  filterBrightness: 10,
  filterContrast: 20,
  filterSaturation: 30,
  filterTemperature: 0
}
```

---

<!-- SECTION: P5-PANEL-STICKER -->
## 편집 패널: 스티커

> [스크린샷: 스티커 패널]

### 패널 레이아웃

```
┌─ 스티커 추가 ──────────────────── ✕ ┐
│                                      │
│ ┌──────────────────────────────────┐ │
│ │          미리보기 캔버스            │ │  그리드 배경
│ │       (선택 스티커 + 위치 표시)    │ │  드래그로 위치 조정
│ └──────────────────────────────────┘ │
│                                      │
│ [골프] [축하] [감정] [효과]          │  카테고리 탭
│                                      │
│ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐   │
│ │🏌️│ │👍│ │🕳️│ │🐦│ │🦅│ │⛳│   │  스티커 그리드
│ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘   │  (6개씩)
│                                      │
│ 위치 X: 50%                         │
│ [────────●────────]                 │
│ 위치 Y: 50%                         │
│ [────────●────────]                 │
│                                      │
│ 크기: 1.0x                          │
│ [────●────────────] 0.5~2.0        │
│                                      │
│ 지속 시간: 3초                       │
│ [────────●────────] 1~10초          │
│                                      │
│          [닫기]  [추가]              │
└──────────────────────────────────────┘
```

### 스티커 라이브러리 (4 카테고리, 24종)

**골프:**

| 이모지 | 이름 | 기본 애니메이션 |
|--------|------|-------------|
| 🏌️ | 굿샷 | bounce |
| 👍 | 나이스샷 | pulse |
| 🕳️ | 홀인원 | explode |
| 🐦 | 버디 | float |
| 🦅 | 이글 | zoom-in |
| ⛳ | 골프공 | spin |

**축하:**

| 이모지 | 이름 | 기본 애니메이션 |
|--------|------|-------------|
| 🎆 | 폭죽 | explode |
| 🎉 | 파티 | bounce |
| 🏆 | 트로피 | sparkle |
| 🎊 | 색종이 | explode |
| 👏 | 박수 | shake |
| ⭐ | 스타 | sparkle |

**감정:**

| 이모지 | 이름 | 기본 애니메이션 |
|--------|------|-------------|
| ❤️ | 하트 | pulse |
| 🔥 | 불꽃 | shake |
| 👍 | 최고 | bounce |
| 😮 | 와우 | zoom-in |
| 😎 | 쿨 | float |
| 💪 | 힘 | pulse |

**효과:**

| 이모지 | 이름 | 기본 애니메이션 |
|--------|------|-------------|
| 💣 | 폭탄 | explode |
| ⚡ | 번개 | shake |
| ✨ | 반짝 | sparkle |
| 💥 | 붐 | explode |
| 🎯 | 화살 | zoom-in |
| 👑 | 왕관 | float |

### 설정 항목

| 설정 | 옵션 | 기본값 |
|------|------|--------|
| 스티커 | 24종 중 택1 (필수) | - |
| 위치 X | 0~100% 슬라이더 | 50% |
| 위치 Y | 0~100% 슬라이더 | 50% |
| 크기 | 0.5x ~ 2.0x 슬라이더 | 1.0x |
| 지속 시간 | 1~10초 슬라이더 | 3초 |
| 애니메이션 | 스티커별 기본값 자동 적용 | 스티커에 따라 다름 |

### 스티커 애니메이션 종류

| ID | 이름 | 효과 |
|----|------|------|
| bounce | 바운스 | 탄성 튀어오르기 |
| pulse | 펄스 | 크기 확대/축소 반복 |
| shake | 흔들기 | 좌우 흔들림 |
| spin | 회전 | 360도 회전 반복 |
| explode | 폭발 | 작은→큰 크기 + 사라짐 |
| float | 떠다니기 | 위아래 부유 |
| zoom-in | 줌인 | 작은→큰 크기 등장 |
| sparkle | 반짝 | 깜빡이는 효과 |

### 생성되는 타임라인 데이터

```
{
  id: "sticker-{timestamp}",
  clipId: "sticker-clip-{timestamp}",
  track: "sticker",
  position: (플레이헤드 현재 시간),
  duration: 3,
  startTime: 0,
  endTime: 3,
  stickerEmoji: "🏌️",
  stickerAnimation: "bounce",
  stickerScale: 1.0,
  stickerPosition: { x: 50, y: 50 }
}
```

---

<!-- SECTION: P5-PANEL-SPEED -->
## 편집 패널: 속도 (영상 클립 전용)

> [스크린샷: 속도 패널]

영상 클립 선택 후 하단 툴바의 "속도" 버튼 탭 시 열립니다.

### 패널 레이아웃 (하단 시트)

```
┌─ 속도 조절 ──────────────────────────┐
│                                      │
│              4.5x                    │  현재 속도 표시
│                                      │
│ [════════════●════] 0.1x ~ 8.0x     │  속도 슬라이더
│ 0.1x                          8.0x   │
│                                      │
│ [0.5x]  [1x]  [2x]  [4x]           │  프리셋 버튼
│                                      │
│          [취소]  [적용]              │
└──────────────────────────────────────┘
```

### 설정 항목

| 설정 | 범위 | 기본값 | 단위 |
|------|------|--------|------|
| 재생 속도 | 0.1x ~ 8.0x | 1.0x | 0.1 단위 |

| 프리셋 | 설명 |
|--------|------|
| 0.5x | 슬로모션 |
| 1x | 원본 속도 |
| 2x | 2배속 |
| 4x | 4배속 |

### 속도 변경 시 영향

| 항목 | 처리 |
|------|------|
| duration 변경 | 속도에 반비례 (예: 10초 클립 × 2x = 5초 표시) |
| 리플 편집 | 후속 클립 자동 이동 |
| 총 duration | 프로젝트 총 길이 재계산 |

---

<!-- SECTION: P5-PANEL-VOLUME -->
## 편집 패널: 볼륨 (영상 클립 전용)

> [스크린샷: 볼륨 패널]

영상 클립 선택 후 하단 툴바의 "볼륨" 버튼 탭 시 열립니다.

### 패널 레이아웃 (하단 시트)

```
┌─ 클립 볼륨 ──────────────────────────┐
│                                      │
│ 원본 오디오                   75%    │
│                          [켜짐] 토글  │
│ [═══════════●═══]  0~100            │
│                                      │
│ [0%]  [25%]  [50%]  [75%]  [100%]  │  프리셋 버튼
│                                      │
│ 비디오 클립의 원본 오디오 볼륨을       │
│ 조절합니다. BGM과 별도로 조절됩니다.  │
│                                      │
│          [취소]  [적용]              │
└──────────────────────────────────────┘
```

### 설정 항목

| 설정 | 범위 | 기본값 |
|------|------|--------|
| 볼륨 | 0 ~ 100% 슬라이더 | 100% |
| 음소거 | 켜짐/꺼짐 토글 | 켜짐 |

| 프리셋 | 값 |
|--------|-----|
| 0% | 음소거 |
| 25% | 0.25 |
| 50% | 0.5 |
| 75% | 0.75 |
| 100% | 1.0 |

- 음소거 시 슬라이더 비활성
- 이 볼륨은 영상 클립의 **원본 오디오**에만 적용 (오디오 트랙의 BGM과 별도)

---

<!-- SECTION: P5-AI -->
## AI 어시스턴트 패널

> [스크린샷: AI 어시스턴트 패널]

타임라인 컨트롤의 AI 버튼(✨) 탭 시 열립니다.

### 활성화 조건

프로젝트 `clips` 배열에서 `shotData`가 존재하는 클립이 1개 이상 → 활성

### 패널 레이아웃

```
┌─ AI 어시스턴트 ─────────────── ✕ ┐
│                                    │
│ 감지된 샷 데이터        [🔄 다시분석]│
│ [280yd] [165mph] [Driver] [버디]  │  ShotData 뱃지
│                                    │
│ AI 추천                            │
│ [전체 선택]  |  [전체 해제]         │
│                                    │
│ [✓] 🎉 파티 축하 - 파티 스티커     │  추천 항목 목록
│ [✓] 🏆 트로피 - 축하 스티커        │  (체크박스 선택)
│ [ ] ❤️ 하트 - 감정 표현            │
│ [✓] "285yd Driver" - 텍스트       │
│ [✓] "BIRDIE!" - 텍스트            │
│ ...                                │
│                                    │
│          3개 선택됨                 │  실시간 카운트
│          [추가]                    │
└────────────────────────────────────┘
```

### 분석 API

패널 열릴 때 자동으로 호출됩니다.

```
POST /api/ai/analyze

Request:
{
  "shotDataList": [
    {
      "clipId": "clip-uuid-1",
      "distance": 285,
      "ballSpeed": 168,
      "club": "Driver",
      "accuracy": 92,
      "holeResult": "birdie"
    }
  ]
}

Response 200:
{
  "recommendations": [
    {
      "type": "sticker",
      "emoji": "🎯",
      "label": "버디 달성",
      "reason": "버디 결과 감지"
    },
    {
      "type": "text",
      "content": "285yd Driver",
      "reason": "비거리 기록"
    }
  ]
}
```

### 인터랙션

| 동작 | 상세 |
|------|------|
| 추천 항목 탭 | 체크박스 선택/해제 토글 |
| 전체 선택 | 모든 추천 항목 선택 |
| 전체 해제 | 모든 선택 해제 |
| 다시 분석 | API 재호출 (추천 결과 새로고침) |
| [추가] 버튼 | 선택된 항목을 타임라인에 일괄 추가 |
| 선택 카운트 | 실시간 표시 ("N개 선택됨") |

### 타임라인 추가 규칙

| 항목 | 규칙 |
|------|------|
| 추가 위치 | 각 추천 항목이 참조하는 클립의 `position` 기준 |
| 스티커 추가 | 스티커 트랙에 추천 emoji + 기본 설정 (3초, 해당 애니메이션) |
| 텍스트 추가 | 텍스트 트랙에 추천 content + 기본 설정 (5초, fade-in) |
| 중복 방지 | 동일 내용이 같은 위치에 이미 존재하면 추가하지 않음 |

---

<!-- SECTION: P5-CONCURRENT -->
## 동시 편집 방지

| 시나리오 | 처리 |
|---------|------|
| 같은 프로젝트를 두 기기에서 열기 | 나중에 연 기기에 "다른 기기에서 편집 중입니다" 안내 |
| 선택지 | "읽기 전용 보기" 또는 "강제 편집" |
| "강제 편집" 선택 시 | 이전 기기의 세션 무효화, 현재 기기에서 편집 시작 |

---

<!-- SECTION: P5-CONSTRAINT -->
## 제약 사항

| 항목 | 제한값 |
|------|--------|
| 프로젝트 최대 타임라인 길이 | 5분 (총 클립 합산) |
| 트랙별 최대 클립 수 | 제한 없음 |
| 최소 클립 길이 | 0.1초 (트림/분할 시) |
| 텍스트 최대 글자 수 | 200자 |
| 텍스트 클립 기본 길이 | 5초 |
| 스티커 클립 기본 길이 | 3초 |
| 오디오 클립 기본 길이 | BGM 선택 시 30초, 미선택 시 5초 |
| 필터 클립 기본 길이 | 5초 |
| 영상 속도 범위 | 0.1x ~ 8.0x |
| 줌 범위 | 0.5x ~ 3.0x |
| 줌 단위 | 0.25x |
| Undo 히스토리 | 30단계 |
| 자동 저장 디바운스 | 2초 |
| 자동 저장 재시도 | 최대 3회 (5초 간격) |
| 드래그 롱프레스 | 500ms |
| 스냅 임계값 | 0.3초 |
| 프로젝트명 최대 길이 | 50자 |

---

<!-- SECTION: P5-ERROR -->
## 에러 처리

| 에러 | UI 처리 | 이후 동선 |
|------|---------|----------|
| 프로젝트 로드 실패 | "프로젝트를 불러올 수 없습니다" (error 토스트) | 대시보드(P1)로 복귀 |
| 자동 저장 실패 (3회) | "자동 저장에 실패했습니다" (error 토스트) + 수동 저장 버튼 | 에디터 유지 |
| 프로젝트명 저장 실패 | "이름 변경에 실패했습니다" (error 토스트) | 이전 이름 복원 |
| AI 분석 실패 | "분석에 실패했습니다" (error 토스트) + 재시도 버튼 | AI 패널 유지 |
| 분할 불가 (플레이헤드 위치) | "중앙 플레이헤드가 클립 위에 있지 않습니다" (warning 토스트) | 에디터 유지 |
| 분할 불가 (최소 길이) | "분할할 수 없습니다. 최소 길이를 확인하세요" (warning 토스트) | 에디터 유지 |
| 분할 불가 (트랙) | "이 클립은 분할할 수 없습니다" (warning 토스트) | 에디터 유지 |
| 클립 추가 불가 (영상 없음) | "먼저 비디오 클립을 추가해주세요" (info 토스트) | 에디터 유지 |
| 네트워크 오류 | "네트워크 연결을 확인해주세요" (error 토스트) | 에디터 유지 |
