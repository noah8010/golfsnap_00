# 공통 사항

> **파일**: `_common.md`  
> **최종 수정**: v1.0 (2026-02-09)

---

<!-- SECTION: CM-AUTH -->
## 인증 `[TBD]`

> 프로토타입에는 인증이 구현되어 있지 않습니다. 실 서비스에서는 로그인 필수입니다.

- 비로그인 사용자 → 로그인 페이지로 리다이렉트
- 세션 만료 시 → 작업 중 데이터 임시 저장 후 재로그인 유도
- 인증 방식: `[TBD: 소셜 로그인(카카오/네이버/구글) 또는 자체 회원가입]`

---

<!-- SECTION: CM-NAV -->
## 하단 네비게이션

> [스크린샷: 하단 네비게이션 바]

5개 탭으로 구성된 하단 고정 네비게이션입니다.

| 탭 | 아이콘 | 라벨 | 대상 화면 | 비고 |
|----|--------|------|----------|------|
| 홈 | Home | 홈 | 홈 | `[TBD: 기획 미확정]` |
| 탐색 | Compass | 탐색 | 샷 기록 목록 | `[TBD: 기획 미확정]` |
| **만들기** | **Plus** | **만들기** | **대시보드 (P1)** | **원형 녹색 버튼으로 강조** |
| 예약 | Calendar | 예약 | 예약 | `[TBD: 기획 미확정]` |
| 나 | User | 나 | 프로필 | `[TBD: 기획 미확정]` |

**동작 규칙:**
- 활성 탭: 녹색 아이콘 (#16a34a) + 하단 점 인디케이터 (animated)
- 비활성 탭: 회색 아이콘 (#9ca3af)
- "만들기" 탭: 항상 원형 녹색 배경에 흰색 + 아이콘
- 에디터(P5)와 새 프로젝트 플로우(P2~P4)에서는 네비게이션 숨김

---

<!-- SECTION: CM-TOAST -->
## 토스트 알림

모든 화면에서 사용되는 인앱 알림입니다.

| 타입 | 배경색 | 사용 예시 |
|------|--------|----------|
| `info` | 회색 (gray-800) | "먼저 비디오 클립을 추가해주세요" |
| `warning` | 주황 (amber-600) | "텍스트/스티커 클립은 분할할 수 없습니다" |
| `error` | 빨강 (red-600) | "업로드에 실패했습니다" |
| `success` | 초록 (emerald-600) | "공유가 완료되었습니다" |

**동작 규칙:**
- 화면 하단에서 슬라이드업 등장 → 2.5초 후 자동 사라짐
- 새 토스트 발생 시 기존 토스트 즉시 교체
- 위치: 하단 네비게이션 바 위 (bottom: 96px)

---

<!-- SECTION: CM-THEME -->
## 다크/라이트 모드

| 항목 | 규칙 |
|------|------|
| 기본값 | 시스템 설정 따름 (`prefers-color-scheme`) |
| 전환 | 대시보드 헤더의 토글 버튼 |
| 저장 | `localStorage` 또는 사용자 DB 설정 |
| 적용 범위 | 대시보드, 에디터 영역 (편집 패널은 고정 다크 테마) |

---

<!-- SECTION: CM-DATA -->
## 데이터 영속성

> 프로토타입은 로컬 메모리만 사용합니다 (새로고침 시 초기화).
> 실 서비스에서는 아래 영속성 전략이 필요합니다.

| 데이터 | 저장소 | 시점 |
|--------|--------|------|
| 사용자 정보 | 서버 DB | 회원가입/로그인 |
| 프로젝트 목록 | 서버 DB | 생성/수정/삭제 시 |
| 프로젝트 타임라인 | 서버 DB | 자동 저장 (변경 후 2초 디바운스) |
| 업로드 미디어 | 오브젝트 스토리지 (S3) | 업로드 완료 시 |
| 내보내기 결과물 | 오브젝트 스토리지 (S3) | 렌더링 완료 시 |
| 테마 설정 | localStorage + 서버 | 토글 시 |

---

<!-- SECTION: CM-LOADING -->
## 로딩 상태 처리

모든 네트워크 요청에 대해 아래 3가지 상태를 처리해야 합니다.

| 상태 | UI 처리 |
|------|---------|
| **로딩 중** | 해당 영역에 스켈레톤 UI 또는 스피너 표시, 버튼 비활성화 |
| **성공** | 데이터 표시, 성공 토스트 (필요시) |
| **실패** | 에러 토스트 + 재시도 버튼 또는 안내 메시지 |
